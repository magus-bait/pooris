<template name="main">
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-1">&nbsp;</div>
			<div class="col-md-6">{{> addReport}}</div>
			<div class="col-md-1">&nbsp;</div>
			<div class="col-md-3">{{> reports}}</div>
			<div class="col-md-1">&nbsp;</div>
		</div>
	</div>
</template>

<template name="addReport">
	<div class="row">
		<form id="reportForm" class="bs-component">
			<fieldset>
				<legend>Anna tagasisidet</legend>
				<div class="form-group {{error 'regNo'}}">
					<label for="regNo" class="col-lg-3 control-label">Registreerimismärk:</label>
					<div class="col-lg-7">
						<input type="text" class="form-control" name="regNo" id="regNo" placeholder="Registreerimismärk">
					</div>
					<div class="col-lg-2">
						<button id="searchReports" class="btn btn-default btn-lg btn-block">Otsi</button>
					</div>
				</div>
				<div class="form-group {{error 'comment'}}">
					<label for="comment" class="col-lg-3 control-label">Kommentaar:</label>
					<div class="col-lg-9">
						<textarea class="form-control" rows="3" id="comment" name="comment"></textarea>
						<span class="help-block">{{charCount}} tähte järel</span>
					</div>
				</div>
				<div class="form-group">
					<div class="col-lg-9 col-lg-offset-3">
						<button id="addReport" class="btn btn-primary btn-lg btn-block">Lisa</button>
					</div>
				</div>
			</fieldset>
		</form>
	</div>
</template>

<template name="reports">
	<fieldset>
		<legend>
			{{filterLabel}}
			{{#if filterActive}}
				<span class="pull-right"><button id="resetFilter" class="btn btn-default btn-lg btn-block">Näita kõiki</button></span>
			{{/if}}
		</legend>
		{{#each reports}}
			<div class="panel panel-default">
				<div class="panel-heading">{{regNo}}<span class="pull-right label label-primary">{{time}}</span></div>
				<div class="panel-body comment">
					{{comment}}
				</div>
			</div>
		{{/each}}
	</fieldset>
</template>
